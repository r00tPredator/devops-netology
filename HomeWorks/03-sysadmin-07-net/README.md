Домашнее задание к занятию "3.7. Компьютерные сети, лекция 2"
1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?

Ответ:
ipconfig /all - IP адреса интерфейсов для Windows

ip address – IP адреса интерфейсов для Linux

2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?

Ответ:
LLDP – протокол для обмена информацией между соседними устройствами
apt install lldpd
systemctl enable lldpd && systemctl start lldpd<br />

lldpctl
````
=================================
 LLDP neighbors:
=================================
````
3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.

Ответ:
VLAN позволяет разлелить L2 коммутатор на несколько виртуальных сетей.
````
apt install vlan
Настройка VLAN в Ubuntu
nano /etc/network/interfaces  - откроем файл interface с помощью редактора и введем строку ниже, сем самым создадим две разных сети vlan10 и vlan20 на одном интерфейсе.
auto vlan10
iface vlan10 inet static
 address 192.168.1.1
 netmask 255.255.255.0
 vlan_raw_device eth0

auto vlan20
iface vlan20 inet static
 address 192.168.1.1
 netmask 255.255.255.0
 vlan_raw_device eth0
````
4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.

Ответ:
````
auto bond0

iface bond0 inet static
    address 192.168.1.5
    netmask 255.255.255.0
    network 192.168.1.0
    gateway 192.168.1.254
    bond-slaves eth0 eth1
    bond-mode active-backup
    bond-miimon 100
    bond-downdelay 200
    bond-updelay 200
# bond0 - имя интерфейса агрированного порта 
# eth0 и eth1 - имя сетевых интерфейсов, которые нужно соединить(агрировать)
````


5. Сколько IP адресов в сети с маской /29 ?

Ответ:
Сделать это можно через ipcalc – cli ip калькулятор
````
apt install ipcalc - устанавливаем

Для маски 29 это 8 IP адрессов. Два из них в резерве под Broadcast и Network.Всего 6 хостов доступно в итоге. 
ipcalc 10.10.10.0/29
Address:   10.10.10.0           00001010.00001010.00001010.00000 000
Netmask:   255.255.255.248 = 29 11111111.11111111.11111111.11111 000
Wildcard:  0.0.0.7              00000000.00000000.00000000.00000 111
=>
Network:   10.10.10.0/29        00001010.00001010.00001010.00000 000
HostMin:   10.10.10.1           00001010.00001010.00001010.00000 001
HostMax:   10.10.10.6           00001010.00001010.00001010.00000 110
Broadcast: 10.10.10.7           00001010.00001010.00001010.00000 111
Hosts/Net: 6                     Class A, Private Internet
````

````
ipcalc 10.10.10.0/24
uboo2@uboo2-VirtualBox:~$ ipcalc 10.10.10.0/24
Address:   10.10.10.0           00001010.00001010.00001010. 00000000
Netmask:   255.255.255.0 = 24   11111111.11111111.11111111. 00000000
Wildcard:  0.0.0.255            00000000.00000000.00000000. 11111111
=>
Network:   10.10.10.0/24        00001010.00001010.00001010. 00000000
HostMin:   10.10.10.1           00001010.00001010.00001010. 00000001
HostMax:   10.10.10.254         00001010.00001010.00001010. 11111110
Broadcast: 10.10.10.255         00001010.00001010.00001010. 11111111
Hosts/Net: 254   
````

Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24

Ответ:
````
Subnets:   32 
Hosts:     192

Netmask:   255.255.255.248 = 29  11111111.11111111.11111111.11111 000
Wildcard:  0.0.0.7               00000000.00000000.00000000.00000 111

Network:   10.10.10.0/29         00001010.00001010.00001010.00000 000 (Class A)
Broadcast: 10.10.10.7            00001010.00001010.00001010.00000 111
HostMin:   10.10.10.1            00001010.00001010.00001010.00000 001
HostMax:   10.10.10.6            00001010.00001010.00001010.00000 110
Hosts/Net: 6                     (Private Internet)


Network:   10.10.10.8/29         00001010.00001010.00001010.00001 000 (Class A)
Broadcast: 10.10.10.15           00001010.00001010.00001010.00001 111
HostMin:   10.10.10.9            00001010.00001010.00001010.00001 001
HostMax:   10.10.10.14           00001010.00001010.00001010.00001 110
Hosts/Net: 6                     (Private Internet)
````


6. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.

Ответ:
Можно воспользоватся подсетью 100.64.0.0/10. Она так же не маршрутизируется во внешнюю сеть.
````
Address:   100.64.0.0           
Netmask:   255.192.0.0 = 10     
Wildcard:  0.63.255.255         
=>
Network:   100.64.0.0/10        
HostMin:   100.64.0.1           
HostMax:   100.127.255.254      
Broadcast: 100.127.255.255      
Hosts/Net: 4194302               Class A

1. Requested size: 40 hosts
Netmask:   255.255.255.192 = 26 
Network:   100.64.0.0/26        
HostMin:   100.64.0.1           
HostMax:   100.64.0.62          
Broadcast: 100.64.0.63          
Hosts/Net: 62                    Class A

Needed size:  64 addresses.

 ipcalc -b --split 40 100.64.0.0/10
Address:   100.64.0.0           
Netmask:   255.192.0.0 = 10     
Wildcard:  0.63.255.255         
=>
Network:   100.64.0.0/10        
HostMin:   100.64.0.1           
HostMax:   100.127.255.254      
Broadcast: 100.127.255.255      
Hosts/Net: 4194302               Class A

1. Requested size: 40 hosts
Netmask:   255.255.255.192 = 26 
Network:   100.64.0.0/26        
HostMin:   100.64.0.1           
HostMax:   100.64.0.62          
Broadcast: 100.64.0.63          
Hosts/Net: 62                    Class A

Needed size:  64 addresses.
````

7. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?

Ответ:

Под Windows:<br />
arp -a  - покажет ARP таблицу<br />
arp -d 192.168.1.2  - удалит запись из табилицы<br />
netsh interface ip delete arpcache - очистит ARP таблицу<br />

Под Linux:<br />
arp -a  - покажет ARP таблицу<br />
ip neighbour - покажет ARP таблицу<br />
arp -d 192.168.1.2  - удалит запись из табилицы<br />
ip -s -s neigh flush all  - очистит ARP таблицу<br />
